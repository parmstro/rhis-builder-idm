---

# operate on the group and ensure that its state is accurate"

- name: "Ensure state for group {{ idm_group.name }}"
  redhat.rhel_idm.ipagroup:
    action: "{{ idm_group.action | default(omit) }}"
    ipaadmin_principal: "{{ ipa_admin_principal }}"
    ipaadmin_password: "{{ ipa_admin_password }}"
    name: "{{ idm_group.name }}"
    description: "{{ idm_group.description | default(omit) }}"
    state: "{{ idm_group.state | default('present') }}"
    external: "{{ idm_group.external | default(omit) }}"
    gid: "{{ idm_group.gid | default(omit) }}"
    group: "{{ idm_group.group_list | default(omit) }}"
    groups: "{{ idm_group.group_dict | default(omit) }}"
    membermanager_group: "{{ idm_group.membermanager_groups | default(omit) }}"
    membermanager_user: "{{ idm_group.membermanager_users | default(omit) }}"
    posix: "{{ idm_group.posix | default(omit) }}"
    rename: "{{ idm_group.rename | default(omit) }}"
    user: "{{ idm_group.user_list | default(omit) }}"

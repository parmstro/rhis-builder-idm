---

# Ensure the host state

- name: "Ensure the state of host {{ idm_host.name }}"
  redhat.rhel_idm.ipahost:
    ipaadmin_principal: "{{ ipa_admin_principal }}"
    ipaadmin_password: "{{ ipa_admin_password }}"
    name: "{{ idm_host.name }}" # FQDN
    action: "{{ idm_host.action | default(omit) }}"
    auth_ind: "{{ idm_host.auth_ind_list | default(omit) }}"
    certificate: "{{ idm_host.certificate_list | default(omit) }}"
    description: "{{ idm_host.description | default(omit) }}"
    force: "{{ idm_host.force | default(omit) }}"
    ip_address: "{{ idm_host.ip_address | default(omit) }}"
    locality: "{{ idm_host.locality | default(omit) }}"
    location: "{{ idm_host.location | default(omit) }}"
    mac_address: "{{ idm_host.mac_address_list | default(omit) }}"
    os: "{{ idm_host.os | default(omit) }}"
    platform: "{{ idm_host.platform | default(omit) }}"
    reverse: "{{ idm_host.reverse | default(omit) }}"
    sshpubkey: "{{ idm_host.pub_key_list | default(omit) }}"
    update_dns: "{{ idm_host.update_dns | default(omit) }}"
    state: "{{ idm_host.state | default(omit) }}"
